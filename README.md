# old_file_sorter

## Описание Проекта

Этот скрипт на Python (`organize_media.py`) предназначен для автоматической сортировки и дедупликации файлов, таких как фотографии, видео, музыка и программы, с возможностью логирования всех операций.

### Использование

```bash
python organize_media.py <SOURCE_DIR> [<DEST_DIR>]
```

*   `<SOURCE_DIR>`: Исходная директория, которую скрипт будет рекурсивно обходить.
*   `<DEST_DIR>`: Директория назначения, куда будут перемещены отсортированные файлы. Если не указана, по умолчанию создаётся папка `sorted_media` рядом с исходной директорией.

### Возможности

*   **Автоматическая Категоризация**: Файлы распределяются по следующим категориям на основе их расширений:
    *   `Фото`
    *   `Видео`
    *   `Музыка`
    *   `Программы`
    *   `Прочее`
*   **Дедупликация**: Для каждого файла вычисляется SHA-256 хеш. Копируются только уникальные файлы, что позволяет избежать дубликатов в директории назначения.
*   **Переименование Файлов**:
    *   **Фотографии и Видео**: Переименовываются в формат `YYYYMMDD_HHMMSS_старое_имя.ext`. Дата и время извлекаются из метаданных EXIF (для фото) или из даты последнего изменения файла. Пробелы в старом имени файла заменяются на нижние подчёркивания.
    *   **Аудио и Программы**: Копируются с сохранением исходного имени.
*   **Логирование**: Подробное логирование всех ключевых этапов работы скрипта, включая информацию о копировании, пропусках дубликатов и ошибках.

### Требования

Для работы скрипта требуется установить библиотеку `Pillow`:

```bash
pip install pillow
```

### Пример Использования

```bash
python organize_media.py /home/user/Downloads
```

Это скопирует и отсортирует все файлы из `/home/user/Downloads` в новую директорию `/home/user/sorted_media` (если она не указана явно).

```bash
python organize_media.py /mnt/photos /media/sorted_files
```

Этот пример отсортирует файлы из `/mnt/photos` в `/media/sorted_files`.
